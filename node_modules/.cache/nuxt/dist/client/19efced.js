(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(t,e,r){"use strict";var o=r(531),n={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},c=(r(389),r(115)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e(o.a,{attrs:{dark:""}},[404===t.error.statusCode?e("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):e("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),e("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"35e10596",null);e.a=component.exports},308:function(t,e,r){var content=r(390);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("6cd9a3d1",content,!0,{sourceMap:!1})},335:function(t,e,r){"use strict";var o=r(531),n=r(541),c=r(256),l=r(251),d=r(206),m=r(254),v=r(536),f=r(542),_=r(543),h=r(539),y=r(538),j=r(540),k=r(535),x=r(197),S=r(253),w=r(160),N=r(252),C=r(56),O=r(537),D=r(257),I=r(534),J=r(34),A=r(533),$=r(91),P=r(333),E=(r(33),r(6),r(27),r(181),r(310),r(37),r(53),r(47),r(8),r(75),r(76),r(49),r(42));r(127),r(31),r(46),r(7),r(4);function F(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,n=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw n}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var T=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],z={name:"DefaultLayout",data:function(){return{dialog:!1,loading:!1,dates:["2023-03-01","2023-03-04"],menu:!1,accountName:"napoli_pizzas.crowdforces.near",project:{name:"",color:""},price:{projectName:"",value:""},projects:{},search:"",headers:[{text:"Дата",value:"block_timestamp",align:"start"},{text:"Отправитель",value:"signer_id"},{text:"Получатель",value:"receiver_id"},{text:"Сумма",value:"args.deposit",align:"start"}],items:[]}},computed:{projectsSummary:function(){var t={"Не определено":{summary:0},"Всего":{summary:0,color:"blue-grey-darken-1"}};for(var p in this.projects)t[p]={summary:0,color:this.projects[p].color};var e,r=F(this.items);try{for(r.s();!(e=r.n()).done;){var o=e.value,n=!1;for(var c in this.projects)this.projects[c].prices.includes(String(o.args.deposit/1e24))&&(t.prices.push(this.projects[c].color),t[c].summary+=o.args.deposit/1e24,n=!0);n||(t["Не определено"].summary+=o.args.deposit/1e24),t["Всего"].summary+=o.args.deposit/1e24}}catch(t){r.e(t)}finally{r.f()}return t}},mounted:function(){this.projects=JSON.parse(localStorage.getItem("projects"))},methods:{fetchData:function(){var t=this;return Object(E.a)(regeneratorRuntime.mark((function e(){var r,o,data,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r="https://api.kitwallet.app/account/".concat(t.accountName,"/activity?limit=1000"),e.next=4,t.$axios.get(r);case 4:o=e.sent,data=o.data,n=new Date(t.dates[0]).getTime(),c=new Date(t.dates[1]).getTime()+864e5,t.items=data.filter((function(e){var r=parseInt(e.block_timestamp)/1e6;return e.signer_id!==t.accountName&&r>=n&&r<=c})),t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()},getColor:function(t){for(var e=0,r=Object.keys(this.projects);e<r.length;e++){var o=r[e];if(this.projects[o].prices.includes(String(t/1e24)))return this.projects[o].color}},getDay:function(t){var i=new Date(t).getDay(t);return T[i]},addProject:function(){this.projects[this.project.name]={color:this.project.color,prices:[]},localStorage.setItem("projects",JSON.stringify(this.projects)),this.project={name:"",color:""}},deleteProject:function(t){delete this.projects[t],localStorage.setItem("projects",JSON.stringify(this.projects)),this.projects=JSON.parse(localStorage.getItem("projects"))},addPrice:function(){this.projects[this.price.projectName].prices.push(this.price.value),localStorage.setItem("projects",JSON.stringify(this.projects)),this.projects=JSON.parse(localStorage.getItem("projects")),this.price.value=""}}},M=r(115),component=Object(M.a)(z,(function(){var t=this,e=t._self._c;return e(o.a,[e(n.a,{attrs:{fixed:"",app:""}},[e(j.a,{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e(c.a,t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",n,!1),o),[t._v("\n          Проекты\n        ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(n.a,{attrs:{app:"",fixed:""}},[e(c.a,{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[e(x.a,[t._v("mdi-close")])],1),t._v(" "),e(P.a,[t._v("Проекты")]),t._v(" "),e(A.a),t._v(" "),e(I.a,{staticClass:"align-center justify-center mr-3"},[e($.a,{staticClass:"mt-5 mr-3",attrs:{label:"Название проекта",outlined:"",dense:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}}),t._v(" "),e(l.a,{staticStyle:{width:"30px",height:"30px"},attrs:{color:t.project.color}}),t._v(" "),e(J.a,{staticClass:"mt-5 mx-3",attrs:{label:"Цвет",items:["red","green","yellow","pink","blue","black","indigo","purple","cyan","teal","light-blue"],outlined:"",dark:"",dense:""},model:{value:t.project.color,callback:function(e){t.$set(t.project,"color",e)},expression:"project.color"}}),t._v(" "),e(c.a,{attrs:{color:"orange",outlined:""},on:{click:t.addProject}},[t._v("\n            Добавить проект\n          ")])],1)],1),t._v(" "),e(l.a,[e(S.a,{staticClass:"mt-12"},[t._l(Object.keys(t.projects),(function(p){return e(w.a,{key:p,staticClass:"my-5",class:t.projects[p].color},[e(C.a,[e(C.c,{staticClass:"text--white"},[t._v("\n                Название проекта: "+t._s(p)+"\n              ")]),t._v(" "),e(C.b,[t._v("\n                Возможные цены: "+t._s(t.projects[p].prices)+"\n              ")])],1),t._v(" "),e(N.a,[e(A.a),t._v(" "),e(c.a,{attrs:{outlined:"",color:"error"},on:{click:function(e){return t.deleteProject(p)}}},[t._v("\n                Удалить проект\n              ")])],1)],1)})),t._v(" "),e(w.a,[e(C.a,[e(C.c,[t._v(t._s(t.price))]),t._v(" "),e(C.b,[t._v("Require password for purchase or use password to restrict purchase")])],1)],1)],2)],1),t._v(" "),e(k.a,{attrs:{fixed:""}},[e(I.a,{staticClass:"justify-space-around"},[e(J.a,{staticStyle:{"max-width":"200px"},attrs:{label:"Выберете проекта",items:Object.keys(t.projects)},model:{value:t.price.projectName,callback:function(e){t.$set(t.price,"projectName",e)},expression:"price.projectName"}}),t._v(" "),e($.a,{staticStyle:{"max-width":"200px"},attrs:{label:"Стоимость"},model:{value:t.price.value,callback:function(e){t.$set(t.price,"value",e)},expression:"price.value"}}),t._v(" "),e(c.a,{staticClass:"mt-5",attrs:{color:"orange"},on:{click:t.addPrice}},[t._v("\n            Добавить цену\n          ")])],1)],1)],1),t._v(" "),e(A.a),t._v(" "),e(I.a,{staticClass:"mr-3 pt-8"},[e(v.a,[e(D.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e(f.a,t._g(t._b({attrs:{multiple:"",chips:"","small-chips":"",label:"Выбор дат","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-combobox",n,!1),o))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(y.a,{attrs:{range:"","no-title":"","weekday-format":t.getDay,locale:"ru-ru",clearable:""},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[e(A.a),t._v(" "),e(c.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n              Cancel\n            ")]),t._v(" "),e(c.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v("\n              OK\n            ")])],1)],1)],1),t._v(" "),e(v.a,{attrs:{cols:""}},[e($.a,{attrs:{label:"Название"},model:{value:t.accountName,callback:function(e){t.accountName=e},expression:"accountName"}})],1)],1),t._v(" "),e(c.a,{attrs:{color:"secondary"},on:{click:t.fetchData}},[t._v("\n      Поиск\n    ")])],1),t._v(" "),e(O.a,[e(_.a,{staticClass:"mt-6"},[e(l.a,t._l(t.projectsSummary,(function(r,o){return e(m.a,{key:o,staticClass:"mx-3",attrs:{color:r.color,"x-large":""}},[t._v("\n          "+t._s(o)+": "+t._s(r.summary)+" N\n        ")])})),1),t._v(" "),e(l.a,[e(d.c,[t._v("\n          Транзакции\n          "),e(A.a),t._v(" "),e($.a,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e(h.a,{attrs:{headers:t.headers,items:t.items,search:t.search,"items-per-page":5,loading:t.loading},scopedSlots:t._u([{key:"item.block_timestamp",fn:function(r){var o=r.item;return[e(m.a,{attrs:{color:t.getColor(o.args.deposit)}},[t._v("\n              "+t._s(new Date(parseInt(o.block_timestamp)/1e6).toLocaleDateString())+"\n              "+t._s(new Date(parseInt(o.block_timestamp)/1e6).toLocaleTimeString())+"\n            ")])]}},{key:"item.args.deposit",fn:function(r){var o=r.item;return[e(m.a,{attrs:{color:t.getColor(o.args.deposit)}},[t._v("\n              "+t._s((o.args.deposit/1e24).toFixed(4))+" N\n            ")])]}}],null,!0)})],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},339:function(t,e,r){r(340),t.exports=r(341)},389:function(t,e,r){"use strict";r(308)},390:function(t,e,r){var o=r(15)((function(i){return i[1]}));o.push([t.i,"h1[data-v-35e10596]{font-size:20px}",""]),o.locals={},t.exports=o}},[[339,7,1,8]]]);